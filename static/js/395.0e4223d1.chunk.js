"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[395],{4845:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(184),s=function(){return(0,r.jsx)("section",{className:"ComicsBanner wrapper",children:(0,r.jsxs)("div",{className:"ComicsBanner-box",children:[(0,r.jsx)("div",{className:"ComicsBanner-box-logo",children:(0,r.jsx)("img",{src:"https://i.giphy.com/media/9r75CL4HcusetkC3d4/giphy.webp",alt:"logo-stanLee",className:"ComicsBanner-box-logo__img"})}),(0,r.jsxs)("div",{className:"ComicsBanner-box-titles",children:[(0,r.jsx)("h3",{className:"ComicsBanner-box-titles__title",children:"New comics every week!"}),(0,r.jsx)("h3",{className:"ComicsBanner-box-titles__title",children:"Stay tuned!"})]}),(0,r.jsx)("div",{className:"ComicsBanner-box-logo",children:(0,r.jsx)("img",{src:"https://i.giphy.com/media/13kajTax0GCg0g/giphy.webp",alt:"logo-Avengers",className:"ComicsBanner-box__logo-avengers"})})]})})}},1397:function(t,e,n){var r=n(5671),s=n(3144),a=n(136),i=n(2882),c=n(2791),o=n(9746),l=n(184),u={margin:"0 auto",width:"570px",height:"100%",padding:"25px",border:"2px solid #000",borderRadius:"15px",boxShadow:"5px 5px 20px rgba(0, 0, 0, 0.8)",background:"#232222",zIndex:"10",position:"relative"},d=function(t){(0,a.Z)(n,t);var e=(0,i.Z)(n);function n(){var t;(0,r.Z)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={error:!1},t}return(0,s.Z)(n,[{key:"componentDidCatch",value:function(t,e){console.log(t,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,l.jsx)("div",{style:u,children:(0,l.jsx)(o.Z,{})}):this.props.children}}]),n}(c.Component);e.Z=d},9746:function(t,e,n){var r=n(184);e.Z=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{style:{position:"absolute",left:"50%",bottom:"0%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#fff",fontWeight:700,textTransform:"uppercase",background:"#000",width:"50%",borderRadius:"14px",padding:"5px 0px"},children:["Oops!",(0,r.jsx)("br",{}),"Please, update your page :)"]}),(0,r.jsx)("img",{style:{margin:"0 auto",background:"none",display:"block",objectFit:"none",border:"10px solid #000",boxShadow:"15px 15px 20px rgba(0, 0, 0, 0.8)",width:"100%",height:"180px"},src:"https://i.gifer.com/fy3e.gif",alt:"error"})]})}},4395:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var r=n(4845),s=n(5987),a=n(2982),i=n(885),c=n(2791),o=n(5487),l=n(863),u=n(6968),d=n(1523),m=n(184),p=function(t){var e=t.data,n=t.id,r=e.title,s=e.thumbnail,a=e.price;return(0,m.jsx)("li",{className:"ComicsList-cards-item",children:(0,m.jsxs)(d.rU,{to:"/comics/".concat(n),className:"ComicsList-cards-item__link",children:[(0,m.jsx)("img",{className:"ComicsList-cards-item__img",src:s,alt:"comics: ".concat(r)}),(0,m.jsxs)("div",{className:"ComicsList-cards-item-titles",children:[(0,m.jsx)("h3",{className:"ComicsList-cards-item-titles__title",children:r}),(0,m.jsx)("h4",{className:"ComicsList-cards-item-titles__price",children:0===a?"Not available":a+"$"})]})]})})},h=["id"],f=function(t){var e=t.loading,n={src:l,alt:"loading gif",title:"Loading..."},r={src:u,alt:"error gif",title:"Load Error!"};return(0,m.jsxs)("div",{className:"ComicsList-cards-item ",children:[(0,m.jsx)("img",{className:"ComicsList-cards-item__img",src:e?n.src:r.src,alt:e?n.alt:r.alt}),(0,m.jsxs)("div",{className:"ComicsList-cards-item-titles",children:[(0,m.jsx)("h3",{className:"ComicsList-cards-item-titles__title",children:e?n.title:r.title}),(0,m.jsx)("h4",{className:"ComicsList-cards-item-titles__price",children:e?n.title:r.title})]})]})},x=function(t){var e=(0,o.Z)(),n=e.getAllComics,r=e.loading,l=e.error,u=e.clearError,d=(0,c.useState)([]),x=(0,i.Z)(d,2),g=x[0],v=x[1],b=(0,c.useState)(!1),j=(0,i.Z)(b,2),y=j[0],C=j[1],Z=(0,c.useState)(0),w=(0,i.Z)(Z,2),k=w[0],N=w[1],_=(0,c.useState)(!1),L=(0,i.Z)(_,2),S=L[0],E=L[1],A=(0,c.useState)(0),B=(0,i.Z)(A,2),T=B[0],I=B[1];(0,c.useEffect)((function(){O()}),[]);var O=function(t){u(),C(!0),n(t).then(P),I(document.body.scrollHeight)},P=function(t){var e=!1;t.length<8&&(e=!0),v((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(t))})),C((function(){return!1})),N((function(t){return t+8})),E((function(){return e}))},M=function(){window.scrollTo({top:0})},q=(0,c.useCallback)((function(){window.scrollTo(0,T)}),[T]);(0,c.useEffect)((function(){0!==g.length&&8!==g.length&&setTimeout(q,1500)}),[g.length,q]);var D=g.map((function(t,e){var n=t.id,r=(0,s.Z)(t,h);return(0,m.jsx)(p,{data:r,id:n},e)})),F=(0,a.Z)(Array(0===g.length?8:g.length)).map((function(t,e){return(0,m.jsx)(f,{loading:r,error:l},e)})),R=l||r?F:null,G=l||r?null:D;return(0,m.jsxs)("section",{className:"ComicsList",children:[(0,m.jsx)("button",{tabIndex:0,onKeyDown:function(t){"Enter"===t.key&&q()},onClick:q,className:"ComicsList-scroll-to-bottom",children:(0,m.jsx)("span",{className:"ComicsList-scroll-to-bottom__inner",children:(0,m.jsx)("span",{className:"mouse-wheel"})})}),(0,m.jsxs)("ul",{className:"ComicsList-cards",children:[R,G]}),(0,m.jsxs)("div",{className:"ComicsList-assets",children:[(0,m.jsx)("button",{disabled:y,onClick:function(){return O(k)},className:"ComicsList-cards-more button button__long",style:{visibility:S?"hidden":""},children:(0,m.jsx)("div",{className:"inner",children:"Load More"})}),(0,m.jsx)("button",{tabIndex:0,onKeyDown:function(t){"Enter"===t.key&&M()},onClick:M,className:"ComicsList-scroll",children:(0,m.jsx)("span",{className:"ComicsList-scroll__up",children:(0,m.jsx)("span",{className:"mouse-wheel"})})})]})]})},g=n(1397),v=n(4270),b=n(8026),j=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(v.q,{children:[(0,m.jsx)("meta",{name:"description",content:"Second page - Comics from mini app Marvel App"}),(0,m.jsx)("title",{children:"Comics page"})]}),(0,m.jsx)(r.Z,{}),(0,m.jsx)("section",{className:"container wrapper",children:(0,m.jsxs)("div",{className:"main__content",children:[(0,m.jsx)(g.Z,{children:(0,m.jsx)(x,{})}),(0,m.jsx)("img",{className:"decoration-vision",src:b,alt:"decoration-vision"})]})})]})}},5487:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(4165),s=n(5861),a=n(885),i=n(2791),c=function(){var t=function(){var t=(0,i.useState)(!1),e=(0,a.Z)(t,2),n=e[0],c=e[1],o=(0,i.useState)(null),l=(0,a.Z)(o,2),u=l[0],d=l[1],m=(0,i.useState)("waiting"),p=(0,a.Z)(m,2),h=p[0],f=p[1],x=(0,i.useCallback)(function(){var t=(0,s.Z)((0,r.Z)().mark((function t(e){var n,s,a,i,o,l=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",s=l.length>2&&void 0!==l[2]?l[2]:null,a=l.length>3&&void 0!==l[3]?l[3]:{"Content-Type":"application/json"},c(!0),f("loading"),t.prev=5,t.next=8,fetch(e,{method:n,body:s,headers:a});case 8:if((i=t.sent).ok){t.next=11;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(i.status));case 11:return t.next=13,i.json();case 13:return o=t.sent,c(!1),t.abrupt("return",o);case 18:throw t.prev=18,t.t0=t.catch(5),c(!1),d(t.t0.message),f("error"),t.t0;case 24:case"end":return t.stop()}}),t,null,[[5,18]])})));return function(e){return t.apply(this,arguments)}}(),[]);return{request:x,clearError:(0,i.useCallback)((function(){d(null),f("loading")}),[]),loading:n,error:u,process:h,setProcess:f}}(),e=t.request,n=t.process,c=t.setProcess,o=t.loading,l=t.error,u=t.clearError,d="https://gateway.marvel.com:443/v1/public/",m="characters",p=9,h=8,f=0,x="comics",g="af8551b0745198c417f5907893a2a765",v=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(){var n,s,a,i,c,o,l=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:f,s=d,a=m,i=p,c=g,t.next=4,e("".concat(s).concat(a,"?limit=").concat(i,"&offset=").concat(n,"&apikey=").concat(c));case 4:return o=t.sent,t.abrupt("return",o.data.results.map(Z));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(){var n,s,a,i,c,o,l=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:f,s=d,a=x,i=h,c=g,t.next=4,e("".concat(s).concat(a,"?limit=").concat(i,"&offset=").concat(n,"&apikey=").concat(c));case 4:return o=t.sent,t.abrupt("return",o.data.results.map(C));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n,s){var a,i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d,i=g,t.next=3,e("".concat(a).concat(s,"/").concat(n,"?apikey=").concat(i));case 3:if(c=t.sent,"characters"!==s){t.next=8;break}return t.abrupt("return",Z(c.data.results[0]));case 8:if("comics"!==s){t.next=10;break}return t.abrupt("return",C(c.data.results[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){var s,a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=d,a=g,t.next=3,e("".concat(s,"characters?name=").concat(n,"&apikey=").concat(a));case 3:return i=t.sent,t.abrupt("return",i.data.results.map(Z));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(t){var e=t.id,n=t.title,r=t.thumbnail,s=t.urls,a=t.prices,i=t.description,c=t.pageCount,o=t.language;return{id:e,title:n,language:void 0===o?"EN-RU":o,pages:c,description:""===i||null===i?"This Marvel comic doesn't have description.":"".concat(i.slice(0,250),"..."),thumbnail:"".concat(r.path,".").concat(r.extension),homepage:s[0].url,comics:t.items,price:a[0].price}},Z=function(t){var e=t.id,n=t.name,r=t.description,s=t.thumbnail,a=t.urls,i=t.comics;return{id:e,name:n,description:""===r?"This Marvel character doesn't have description.\n Please, click the links":r,thumbnail:"".concat(s.path,".").concat(s.extension),homepage:a[0].url,wiki:a[1].url,comics:i.items}};return{getAllComics:b,getAllCharacters:v,getElementById:j,getCharacterByName:y,process:n,setProcess:c,loading:o,error:l,clearError:u}}},863:function(t,e,n){t.exports=n.p+"static/media/CharListItemLoading.6cefb0de3a5c513193d1.gif"},6968:function(t,e,n){t.exports=n.p+"static/media/ironMan404.a42bbd2087ae7da19980.gif"},8026:function(t,e,n){t.exports=n.p+"static/media/decorationVision.8de497492999c5d20b03.png"},5987:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(3366);function s(t,e){if(null==t)return{};var n,s,a=(0,r.Z)(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}},2982:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(907);var s=n(181);function a(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,s.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=395.0e4223d1.chunk.js.map