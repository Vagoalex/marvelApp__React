"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[284],{1397:function(e,a,r){var n=r(5671),t=r(3144),s=r(136),c=r(7277),i=r(2791),o=r(9746),l=r(184),d={margin:"0 auto",width:"570px",height:"100%",padding:"25px",border:"2px solid #000",borderRadius:"15px",boxShadow:"5px 5px 20px rgba(0, 0, 0, 0.8)",background:"#232222",zIndex:"10",position:"relative"},u=function(e){(0,s.Z)(r,e);var a=(0,c.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={error:!1},e}return(0,t.Z)(r,[{key:"componentDidCatch",value:function(e,a){console.log(e,a),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,l.jsx)("div",{style:d,children:(0,l.jsx)(o.Z,{})}):this.props.children}}]),r}(i.Component);a.Z=u},9746:function(e,a,r){var n=r(184);a.Z=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{style:{position:"absolute",left:"50%",bottom:"0%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#fff",fontWeight:700,textTransform:"uppercase",background:"#000",width:"50%",borderRadius:"14px",padding:"5px 0px"},children:["Oops!",(0,n.jsx)("br",{}),"Please, update your page :)"]}),(0,n.jsx)("img",{style:{margin:"0 auto",background:"none",display:"block",objectFit:"none",border:"10px solid #000",boxShadow:"15px 15px 20px rgba(0, 0, 0, 0.8)",width:"100%",height:"180px"},src:"https://i.gifer.com/fy3e.gif",alt:"error"})]})}},2358:function(e,a,r){r.r(a),r.d(a,{default:function(){return F}});var n=r(885),t=r(2791),s=r(4595),c=r.p+"static/media/Marvel.f3c85a8b070a9f674cce.gif",i=r(184),o=function(){return(0,i.jsx)("img",{className:"LoadingMarvel",src:c,alt:"marvel loading"})},l=r(9746),d=r(5487),u=r.p+"static/media/RandomChar-mjolnerShild.439ab19cfabed7d9d9b8.png",h=r.p+"static/media/marvelIcon.dd9b81e060c773c65315.jpg",m=function(e){var a=e.char,r=a.name,n=a.description,t=a.thumbnail,s=a.homepage,c=a.wiki,o=n.length>100?"".concat(n.slice(0,100),"..."):n,l="image_not_available.jpg"===t.slice(-23)?h:t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{className:"character-img",src:l,alt:r}),(0,i.jsxs)("div",{className:"character-info",children:[(0,i.jsx)("h3",{className:"character-info__title",children:r}),(0,i.jsx)("p",{className:"character-info__desc",children:o}),(0,i.jsxs)("div",{className:"character-links",children:[(0,i.jsx)("a",{className:"character-links__link first-link button",href:s,target:"_blank",rel:"noreferrer",children:(0,i.jsx)("div",{className:"inner",children:"Homepage"})}),(0,i.jsx)("a",{className:"character-links__link second-link button button__secondary",href:c,target:"_blank",rel:"noreferrer",children:(0,i.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},f=function(e){var a=(0,t.useState)(null),r=(0,n.Z)(a,2),c=r[0],h=r[1],f=(0,t.useState)(!1),p=(0,n.Z)(f,2),x=p[0],j=p[1],v=(0,d.Z)(),g=v.getElementById,N=v.loading,_=v.error,b=v.clearError;(0,t.useEffect)((function(){C();var e=setInterval(C,12e4);return function(){clearInterval(e)}}),[]);var k=function(e){h(e),j(!0)},C=function(){b();var e=Math.floor(400*Math.random()+1011e3);g(e,"characters").then(k),j(!1)},y=_?(0,i.jsx)(l.Z,{}):null,Z=N?(0,i.jsx)(o,{}):null,w=N||_||!c?null:(0,i.jsx)(m,{char:c});return(0,i.jsx)(s.Z,{in:x,timeout:500,classNames:"random-char-load",children:(0,i.jsxs)("section",{className:"RandomChar wrapper",children:[(0,i.jsxs)("div",{className:"RandomChar__character-info",children:[y,Z,w]}),(0,i.jsxs)("div",{className:"RandomChar__randomizer",children:[(0,i.jsxs)("div",{className:"randomizer-top",children:[(0,i.jsx)("h3",{className:"randomizer-top__title random-title",children:"Random character for today!"}),(0,i.jsx)("h3",{className:"randomizer-top__title  random-title",children:"Do you want to get to know him better?"})]}),(0,i.jsxs)("div",{className:"randomizer-bottom",children:[(0,i.jsx)("h3",{className:"randomizer-bottom__title  random-title",children:"Or choose another one"}),(0,i.jsx)("button",{onClick:C,className:"randomizer-bottom__button button",type:"button",children:(0,i.jsx)("div",{className:"inner",children:"Try it"})})]}),(0,i.jsx)("img",{className:"randomizer-img",src:u,alt:"mjolnir"})]})]})})},p=r(5987),x=r(2982),j=function(e){var a=e.data,r=e.id,n=e.onCharSelected,t=a.name,s=a.thumbnail,c="image_not_available.jpg"===s.slice(-23)?h:s;return(0,i.jsxs)("li",{onClick:function(){return n(r)},className:"CharList-cards-item",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&n(r)},children:[(0,i.jsx)("img",{className:"CharList-cards-item__img",src:c,alt:"character: ".concat(t)}),(0,i.jsx)("h3",{className:"CharList-cards-item__title",children:t})]})},v=r(863),g=r(6968),N=["id"],_=function(e){var a=e.loading,r={src:v,alt:"loading gif",title:"Loading..."},n={src:g,alt:"error gif",title:"Load Error!"};return(0,i.jsxs)("div",{className:"CharList-cards-item ",children:[(0,i.jsx)("img",{className:"CharList-cards-item__img",src:a?r.src:n.src,alt:a?r.alt:n.alt}),(0,i.jsx)("h3",{className:"CharList-cards-item__title",children:a?r.title:n.title})]})},b=function(e){var a=(0,d.Z)(),r=a.getAllCharacters,s=a.loading,c=a.error,o=a.clearError,l=e.onCharSelected,u=(0,t.useState)([]),h=(0,n.Z)(u,2),m=h[0],f=h[1],v=(0,t.useState)(!1),g=(0,n.Z)(v,2),b=g[0],k=g[1],C=(0,t.useState)(0),y=(0,n.Z)(C,2),Z=y[0],w=y[1],S=(0,t.useState)(!1),E=(0,n.Z)(S,2),I=E[0],L=E[1],T=(0,t.useState)(0),F=(0,n.Z)(T,2),z=F[0],D=F[1];(0,t.useEffect)((function(){A()}),[]);var A=function(e){o(),k(!0),r(e).then(M),D(document.body.scrollHeight)},M=function(e){var a=!1;e.length<9&&(a=!0),f((function(a){return[].concat((0,x.Z)(a),(0,x.Z)(e))})),k((function(){return!1})),w((function(e){return e+9})),L((function(){return a}))},R=function(){window.scrollTo({top:0})},B=(0,t.useCallback)((function(){window.scrollTo(0,z)}),[z]);(0,t.useEffect)((function(){0!==m.length&&9!==m.length&&setTimeout(B,1500)}),[m.length,B]);var H=m.map((function(e){var a=e.id,r=(0,p.Z)(e,N);return(0,i.jsx)(j,{onCharSelected:l,data:r,id:a},a)})),O=(0,x.Z)(Array(0===m.length?9:m.length)).map((function(e,a){return(0,i.jsx)(_,{loading:s,error:c},a)})),P=c||s?O:null,q=c||s?null:H;return(0,i.jsxs)("section",{className:"CharList",children:[(0,i.jsxs)("ul",{className:"CharList-cards",children:[P,q]}),(0,i.jsxs)("div",{className:"CharList-assets",children:[(0,i.jsx)("button",{disabled:b,onClick:function(){return A(Z)},className:"CharList-cards-more button button__long",style:{visibility:I?"hidden":""},children:(0,i.jsx)("div",{className:"inner",children:"Load More"})}),(0,i.jsx)("button",{tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&R()},onClick:R,className:"CharList-scroll",children:(0,i.jsx)("span",{className:"CharList-scroll__up",children:(0,i.jsx)("span",{className:"mouse-wheel"})})})]})]})},k=function(){return(0,i.jsxs)("section",{className:"Skeleton",children:[(0,i.jsx)("p",{className:"skeleton-select",children:"Please select a character to see information"}),(0,i.jsxs)("div",{className:"skeleton",children:[(0,i.jsxs)("div",{className:"pulse skeleton__header",children:[(0,i.jsx)("div",{className:"pulse skeleton__circle"}),(0,i.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,i.jsx)("div",{className:"pulse skeleton__block"}),(0,i.jsx)("div",{className:"pulse skeleton__block"}),(0,i.jsx)("div",{className:"pulse skeleton__block"})]})]})},C=r(5705),y=(r(132),r(1523)),Z=function(e){var a={};return e.charName||(a.charName="This field is required"),a},w=function(){var e=(0,t.useState)(null),a=(0,n.Z)(e,2),r=a[0],s=a[1],c=(0,d.Z)(),o=c.getCharacterByName,l=(c.loading,c.error,c.clearError),u=function(e){s(e)},h=(0,C.TA)({initialValues:{charName:""},validate:Z,onSubmit:function(e){return function(e){l(),o(e).then(u)}(e.charName)}}),m=r?r.length>0?(0,i.jsxs)("div",{className:"found-char",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"CharForm-desk found-char__desk",children:"There is!"}),(0,i.jsxs)("p",{className:"CharForm-desk found-char__desk",children:["Visit"," ",(0,i.jsx)("span",{className:"found-char__desk--charName",children:r[0].name})," ","page?"]})]}),(0,i.jsx)(y.rU,{to:"/characters/".concat(r[0].id),className:"button button__secondary found-char__button",type:"button",children:(0,i.jsx)("div",{className:"inner",children:"TO PAGE"})})]}):(0,i.jsx)("div",{className:"found-char",children:(0,i.jsx)("p",{className:"CharForm-desk CharForm-desk--error",children:"The character was not found. Check the name and try again"})}):null,f=h.touched.charName&&h.errors.charName?(0,i.jsx)("div",{className:"found-char",children:(0,i.jsx)("div",{className:"char-form__error CharForm-desk--error",children:h.errors.charName})}):null;return(0,i.jsxs)("div",{className:"CharForm",children:[(0,i.jsx)("h3",{className:"pulse CharForm__title",children:"Or find a character by name:"}),(0,i.jsxs)("form",{className:"char-form",onSubmit:h.handleSubmit,children:[(0,i.jsx)("input",{id:"charName",name:"charName",type:"text",className:"char-form__input",placeholder:"Enter name",value:h.values.charName,onChange:h.handleChange,onBlur:h.handleBlur}),(0,i.jsx)("button",{className:"button",type:"submit",children:(0,i.jsx)("div",{className:"inner",children:"FIND"})}),f]}),m]})},S=function(e){var a=e.char,r=a.name,n=a.description,t=a.thumbnail,s=a.homepage,c=a.wiki,o=a.comics,l=function(){window.scrollTo(0,document.body.scrollHeight)},d=o.map((function(e,a){var r=e.name;return(0,i.jsx)(E,{name:r},a)})),u="image_not_available.jpg"===t.slice(-23)?h:t,m=0===o.length?" hidden":"";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"char-info",children:[(0,i.jsx)("button",{tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&l()},onClick:l,className:"CharInfo-scroll",children:(0,i.jsx)("span",{className:"CharInfo-scroll__bottom",children:(0,i.jsx)("span",{className:"mouse-wheel"})})}),(0,i.jsx)("img",{className:"char-info__img",src:u,alt:r}),(0,i.jsxs)("div",{className:"char-info-inner",children:[(0,i.jsx)("h3",{className:"char-info-inner__title",children:r}),(0,i.jsx)("a",{className:"char-info-inner__link button button__main",href:s,children:(0,i.jsx)("div",{className:"inner",children:"Homepage"})}),(0,i.jsx)("a",{className:"char-info-inner__link button button__secondary",href:c,children:(0,i.jsx)("div",{className:"inner",children:"Wiki"})})]})]}),(0,i.jsx)("div",{className:"char-info-desc",children:(0,i.jsx)("p",{className:"char-info-desc__paragraph",children:n})}),(0,i.jsxs)("div",{className:"char-info-comics ".concat(m),children:[(0,i.jsx)("h4",{className:"char-info-comics__title",children:"Comics:"}),(0,i.jsx)("ul",{className:"comics-list",children:d})]})]})},E=function(e){var a=e.name;return(0,i.jsx)("li",{className:"comics-list__item",children:a})},I=function(e){var a=(0,d.Z)(),r=a.getElementById,s=a.loading,c=a.error,u=a.clearError,h=(0,t.useState)(null),m=(0,n.Z)(h,2),f=m[0],p=m[1];(0,t.useEffect)((function(){x()}),[e.charID]);var x=function(){var a=e.charID;a&&(u(),r(a,"characters").then(j))},j=function(e){p(e)},v=f||s||c?null:(0,i.jsx)(k,{}),g=s?(0,i.jsx)(o,{}):null,N=c?(0,i.jsx)(l.Z,{}):null,_=s||c||!f?null:(0,i.jsx)(S,{char:f});return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("section",{className:"CharInfo",children:[(0,i.jsxs)("div",{className:"CharInfo__content",children:[v,g,N,_]}),(0,i.jsx)("div",{className:"CharInfo__form",children:(0,i.jsx)(w,{})})]})})},L=r(1397),T=r(8026),F=function(){var e=(0,t.useState)(null),a=(0,n.Z)(e,2),r=a[0],s=a[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L.Z,{children:(0,i.jsx)(f,{})}),(0,i.jsx)("div",{className:"container wrapper",children:(0,i.jsxs)("div",{className:"main__content",children:[(0,i.jsx)(L.Z,{children:(0,i.jsx)(b,{onCharSelected:function(e){s(e),window.scrollTo({top:150})}})}),(0,i.jsx)(L.Z,{children:(0,i.jsx)(I,{charID:r})}),(0,i.jsx)("img",{className:"decoration-vision",src:T,alt:"decoration-vision"})]})})]})}},5487:function(e,a,r){r.d(a,{Z:function(){return i}});var n=r(4165),t=r(5861),s=r(885),c=r(2791),i=function(){var e=function(){var e=(0,c.useState)(!1),a=(0,s.Z)(e,2),r=a[0],i=a[1],o=(0,c.useState)(null),l=(0,s.Z)(o,2),d=l[0],u=l[1],h=(0,c.useCallback)(function(){var e=(0,t.Z)((0,n.Z)().mark((function e(a){var r,t,s,c,o,l=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"GET",t=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{"Content-Type":"application/json"},i(!0),e.prev=4,e.next=7,fetch(a,{method:r,body:t,headers:s});case 7:if((c=e.sent).ok){e.next=10;break}throw new Error("Could not fetch ".concat(a,", status: ").concat(c.status));case 10:return e.next=12,c.json();case 12:return o=e.sent,i(!1),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(4),i(!1),u(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(a){return e.apply(this,arguments)}}(),[]);return{request:h,clearError:(0,c.useCallback)((function(){return u(null)}),[]),loading:r,error:d}}(),a=e.request,r=e.loading,i=e.error,o=e.clearError,l="https://gateway.marvel.com:443/v1/public/",d="characters",u=9,h=8,m=0,f="comics",p="af8551b0745198c417f5907893a2a765",x=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){var r,t,s,c,i,o,h=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>0&&void 0!==h[0]?h[0]:m,t=l,s=d,c=u,i=p,e.next=4,a("".concat(t).concat(s,"?limit=").concat(c,"&offset=").concat(r,"&apikey=").concat(i));case 4:return o=e.sent,e.abrupt("return",o.data.results.map(_));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){var r,t,s,c,i,o,d=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>0&&void 0!==d[0]?d[0]:m,t=l,s=f,c=h,i=p,e.next=4,a("".concat(t).concat(s,"?limit=").concat(c,"&offset=").concat(r,"&apikey=").concat(i));case 4:return o=e.sent,e.abrupt("return",o.data.results.map(N));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(r,t){var s,c,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l,c=p,e.next=3,a("".concat(s).concat(t,"/").concat(r,"?apikey=").concat(c));case 3:if(i=e.sent,"characters"!==t){e.next=8;break}return e.abrupt("return",_(i.data.results[0]));case 8:if("comics"!==t){e.next=10;break}return e.abrupt("return",N(i.data.results[0]));case 10:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}(),g=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(r){var t,s,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,s=p,e.next=3,a("".concat(t,"characters?name=").concat(r,"&apikey=").concat(s));case 3:return c=e.sent,e.abrupt("return",c.data.results.map(_));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(e){var a=e.id,r=e.title,n=e.thumbnail,t=e.urls,s=e.prices,c=e.description,i=e.pageCount,o=e.language;return{id:a,title:r,language:void 0===o?"EN-RU":o,pages:i,description:""===c||null===c?"This Marvel comic doesn't have description.":"".concat(c.slice(0,250),"..."),thumbnail:"".concat(n.path,".").concat(n.extension),homepage:t[0].url,comics:e.items,price:s[0].price}},_=function(e){var a=e.id,r=e.name,n=e.description,t=e.thumbnail,s=e.urls,c=e.comics;return{id:a,name:r,description:""===n?"This Marvel character doesn't have description.\n Please, click the links":n,thumbnail:"".concat(t.path,".").concat(t.extension),homepage:s[0].url,wiki:s[1].url,comics:c.items}};return{getAllComics:j,getAllCharacters:x,getElementById:v,getCharacterByName:g,loading:r,error:i,clearError:o}}},863:function(e,a,r){e.exports=r.p+"static/media/CharListItemLoading.6cefb0de3a5c513193d1.gif"},6968:function(e,a,r){e.exports=r.p+"static/media/ironMan404.a42bbd2087ae7da19980.gif"},8026:function(e,a,r){e.exports=r.p+"static/media/decorationVision.8de497492999c5d20b03.png"}}]);
//# sourceMappingURL=284.ba4d0c43.chunk.js.map