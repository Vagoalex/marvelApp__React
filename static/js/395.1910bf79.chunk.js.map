{"version":3,"file":"static/js/395.1910bf79.chunk.js","mappings":"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","sources":["components/ComicsBanner/ComicsBanner.js","components/ErrorBoundary/ErrorBoundary.js","components/ErrorMessage/ErrorMessage.js","components/ComicsListItem/ComicsListItem.js","components/ComicsList/ComicsList.js","components/pages/comics/Comics.js","services/useMarvelService.js","hooks/http.hook.js"],"sourcesContent":["import './ComicsBanner.scss';\r\n\r\nconst ComicsBanner = () => {\r\n  return (\r\n    <section className='ComicsBanner wrapper'>\r\n      <div className='ComicsBanner-box'>\r\n        <div className='ComicsBanner-box-logo'>\r\n          <img\r\n            src='https://i.giphy.com/media/9r75CL4HcusetkC3d4/giphy.webp'\r\n            alt='logo-stanLee'\r\n            className='ComicsBanner-box-logo__img'\r\n          />\r\n        </div>\r\n        <div className='ComicsBanner-box-titles'>\r\n          <h3 className='ComicsBanner-box-titles__title'>\r\n            New comics every week!\r\n          </h3>\r\n          <h3 className='ComicsBanner-box-titles__title'>Stay tuned!</h3>\r\n        </div>\r\n        <div className='ComicsBanner-box-logo'>\r\n          <img\r\n            src='https://i.giphy.com/media/13kajTax0GCg0g/giphy.webp'\r\n            alt='logo-Avengers'\r\n            className='ComicsBanner-box__logo-avengers'\r\n          />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ComicsBanner;\r\n","import { Component } from 'react';\r\nimport ErrorMessage from '../ErrorMessage/ErrorMessage';\r\n\r\nconst errorBoundaryClasses = {\r\n  margin: '0 auto',\r\n  width: '570px',\r\n  height: '100%',\r\n  padding: '25px',\r\n  border: '2px solid #000',\r\n  borderRadius: '15px',\r\n  boxShadow: '5px 5px 20px rgba(0, 0, 0, 0.8)',\r\n  background: '#232222',\r\n  zIndex: '10',\r\n  position: 'relative',\r\n};\r\n\r\nexport class ErrorBoundary extends Component {\r\n  state = {\r\n    error: false,\r\n  };\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.log(error, errorInfo);\r\n\r\n    this.setState({ error: true });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return (\r\n        <div style={errorBoundaryClasses}>\r\n          <ErrorMessage />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","const ErrorMessage = () => {\r\n  const stylesText = {\r\n    position: 'absolute',\r\n    left: '50%',\r\n    bottom: '0%',\r\n    transform: 'translate(-50%, -50%)',\r\n    textAlign: 'center',\r\n    color: '#fff',\r\n    fontWeight: 700,\r\n    textTransform: 'uppercase',\r\n    background: '#000',\r\n    width: '50%',\r\n    borderRadius: '14px',\r\n    padding: '5px 0px',\r\n  };\r\n\r\n  const stylesImg = {\r\n    margin: '0 auto',\r\n    background: 'none',\r\n    display: 'block',\r\n    objectFit: 'none',\r\n    border: '10px solid #000',\r\n    boxShadow: '15px 15px 20px rgba(0, 0, 0, 0.8)',\r\n    width: '100%',\r\n    height: '180px',\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <p style={stylesText}>\r\n        Oops!\r\n        <br />\r\n        Please, update your page :)\r\n      </p>\r\n      <img style={stylesImg} src='https://i.gifer.com/fy3e.gif' alt='error' />\r\n    </>\r\n  );\r\n};\r\nexport default ErrorMessage;\r\n","// import PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './ComicsListItem.scss';\r\nconst path = '/marvelApp__React';\r\n\r\nconst ComicsListItem = (props) => {\r\n  const { data, id, onComicSelected } = props;\r\n  const { title, thumbnail, price } = data;\r\n\r\n  return (\r\n    <li\r\n      //   onClick={() => onComicSelected(id)}\r\n      className='ComicsList-cards-item'\r\n      tabIndex={0}\r\n      //   onKeyDown={(e) => {\r\n      //     if (e.key === 'Enter') {\r\n      //       onComicSelected(id);\r\n      //     }\r\n      //   }}\r\n    >\r\n      <Link to={`${path}/comics/${id}`} className='ComicsList-cards-item__link'>\r\n        <img\r\n          className='ComicsList-cards-item__img'\r\n          src={thumbnail}\r\n          alt={`comics: ${title}`}\r\n        />\r\n        <div className='ComicsList-cards-item-titles'>\r\n          <h3 className='ComicsList-cards-item-titles__title'>{title}</h3>\r\n          <h4 className='ComicsList-cards-item-titles__price'>\r\n            {price === 0 ? 'Not available' : price + '$'}\r\n          </h4>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\n// ComicsListItem.propTypes = {\r\n//   data: PropTypes.object,\r\n//   id: PropTypes.number,\r\n//   onCharSelected: PropTypes.func,\r\n// };\r\n\r\nexport default ComicsListItem;\r\n","import { useEffect, useState, useCallback } from 'react';\r\nimport useMarvelService from '../../services/useMarvelService';\r\n\r\nimport charItemLoadingGif from '../../assets/gifs/CharListItemLoading.gif';\r\nimport ironMan404 from '../../assets/gifs/ironMan404.gif';\r\n\r\nimport './ComicsList.scss';\r\nimport ComicsListItem from '../ComicsListItem/ComicsListItem';\r\n\r\nconst ComicsList = (props) => {\r\n  const { getAllComics, loading, error, clearError } = useMarvelService();\r\n\r\n  //   const { onComicsSelected } = props;\r\n\r\n  const [comics, setComics] = useState([]);\r\n  const [newComicsLoading, setNewComicsLoading] = useState(false);\r\n  const [offset, setOffset] = useState(0);\r\n  const [comicsEnded, setComicsEnded] = useState(false);\r\n  const [windowHeight, setWindowHeight] = useState(0);\r\n\r\n  useEffect(() => {\r\n    onRequestComics();\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const onRequestComics = (offset) => {\r\n    clearError();\r\n    setNewComicsLoading(true);\r\n    getAllComics(offset).then(onComicsLoaded);\r\n    setWindowHeight(document.body.scrollHeight);\r\n  };\r\n\r\n  const onComicsLoaded = (newComics) => {\r\n    let ended = false;\r\n    if (newComics.length < 8) {\r\n      ended = true;\r\n    }\r\n\r\n    setComics((comics) => [...comics, ...newComics]);\r\n    setNewComicsLoading(() => false);\r\n    setOffset((offset) => offset + 8);\r\n    setComicsEnded(() => ended);\r\n  };\r\n\r\n  const onScrollToTop = () => {\r\n    window.scrollTo({ top: 0 });\r\n  };\r\n\r\n  const onScrollToBottom = useCallback(() => {\r\n    window.scrollTo(0, windowHeight);\r\n  }, [windowHeight]);\r\n\r\n  useEffect(() => {\r\n    if (comics.length !== 0 && comics.length !== 8) onScrollToBottom();\r\n  }, [comics.length, onScrollToBottom]);\r\n\r\n  const comicsContent = comics.map(({ id, ...data }, i) => (\r\n    <ComicsListItem key={i} data={data} id={id} />\r\n  ));\r\n\r\n  const statusArray = [...Array(comics.length === 0 ? 8 : comics.length)].map(\r\n    (x, i) => <ComicsItemStatus loading={loading} error={error} key={i} />\r\n  );\r\n\r\n  const status = error || loading ? statusArray : null;\r\n  const content = !(error || loading) ? comicsContent : null;\r\n\r\n  return (\r\n    <section className='ComicsList'>\r\n      <button\r\n        tabIndex={0}\r\n        onKeyDown={(e) => {\r\n          if (e.key === 'Enter') {\r\n            onScrollToBottom();\r\n          }\r\n        }}\r\n        onClick={onScrollToBottom}\r\n        className='ComicsList-scroll-to-bottom'\r\n      >\r\n        <span className='ComicsList-scroll-to-bottom__inner'>\r\n          <span className='mouse-wheel'></span>\r\n        </span>\r\n      </button>\r\n\r\n      <ul className='ComicsList-cards'>\r\n        {status}\r\n        {content}\r\n      </ul>\r\n\r\n      <div className='ComicsList-assets'>\r\n        <button\r\n          disabled={newComicsLoading}\r\n          onClick={() => onRequestComics(offset)}\r\n          className='ComicsList-cards-more button button__long'\r\n          style={{ visibility: comicsEnded ? 'hidden' : '' }}\r\n        >\r\n          <div className='inner'>Load More</div>\r\n        </button>\r\n\r\n        <button\r\n          tabIndex={0}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') {\r\n              onScrollToTop();\r\n            }\r\n          }}\r\n          onClick={onScrollToTop}\r\n          className='ComicsList-scroll'\r\n        >\r\n          <span className='ComicsList-scroll__up'>\r\n            <span className='mouse-wheel'></span>\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nconst ComicsItemStatus = (props) => {\r\n  const { loading } = props;\r\n  const loadData = {\r\n    src: charItemLoadingGif,\r\n    alt: 'loading gif',\r\n    title: 'Loading...',\r\n  };\r\n\r\n  const errorData = {\r\n    src: ironMan404,\r\n    alt: 'error gif',\r\n    title: 'Load Error!',\r\n  };\r\n\r\n  return (\r\n    <div className='ComicsList-cards-item '>\r\n      <img\r\n        className='ComicsList-cards-item__img'\r\n        src={loading ? loadData.src : errorData.src}\r\n        alt={loading ? loadData.alt : errorData.alt}\r\n      />\r\n      <div className='ComicsList-cards-item-titles'>\r\n        <h3 className='ComicsList-cards-item-titles__title'>\r\n          {loading ? loadData.title : errorData.title}\r\n        </h3>\r\n        <h4 className='ComicsList-cards-item-titles__price'>\r\n          {loading ? loadData.title : errorData.title}\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ComicsList;\r\n","import { Fragment } from 'react';\r\n\r\nimport ComicsBanner from '../../ComicsBanner/ComicsBanner';\r\nimport ComicsList from '../../ComicsList/ComicsList';\r\nimport ErrorBoundary from '../../ErrorBoundary/ErrorBoundary';\r\n\r\nimport decorationVision from '../../../assets/images/decorations/decorationVision.png';\r\nimport decorationFalcon from '../../../assets/images/decorations/decorationFalcon.png';\r\nimport decorationIronMan from '../../../assets/images/decorations/ironMan.png';\r\nimport decorationSpiderMan from '../../../assets/images/decorations/decorationSpiderMan.png';\r\n\r\nimport './Comics.scss';\r\n\r\nconst Comics = () => {\r\n  return (\r\n    <Fragment>\r\n      <ComicsBanner />\r\n\r\n      <section className='container wrapper'>\r\n        <div className='main__content'>\r\n          <ErrorBoundary>\r\n            <ComicsList />\r\n          </ErrorBoundary>\r\n          <img\r\n            className='decoration-vision'\r\n            src={decorationVision}\r\n            alt='decoration-vision'\r\n          />\r\n          <img\r\n            className='decoration-falcon'\r\n            src={decorationFalcon}\r\n            alt='decorationFalcon'\r\n          />\r\n          <img\r\n            className='decoration-iron-Man'\r\n            src={decorationIronMan}\r\n            alt='decorationIronMan'\r\n          />\r\n          <img\r\n            className='decoration-spider-man'\r\n            src={decorationSpiderMan}\r\n            alt='decorationSpiderMan'\r\n          />\r\n        </div>\r\n      </section>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Comics;\r\n","import { useHttp } from '../hooks/http.hook';\r\n\r\n// TODO: refactor this methods, because it's have a copypaste\r\nconst useMarvelService = () => {\r\n  const { request, loading, error, clearError } = useHttp();\r\n\r\n  const _server = {\r\n    url: 'https://gateway.marvel.com:443/v1/public/',\r\n    characters: 'characters',\r\n    baseLimit: 9,\r\n    comicsLimit: 8,\r\n    baseOffset: 0,\r\n    comics: 'comics',\r\n    apiKeyIvan: 'c5d6fc8b83116d92ed468ce36bac6c62',\r\n    apiKeyMail: 'b3252ae24667fd89a578925f8337c8d2',\r\n    apiKeyGmail: 'af8551b0745198c417f5907893a2a765',\r\n  };\r\n\r\n  const getAllCharacters = async (offset = _server.baseOffset) => {\r\n    const { url, characters, baseLimit, apiKeyGmail } = _server;\r\n\r\n    const res = await request(\r\n      `${url}${characters}?limit=${baseLimit}&offset=${offset}&apikey=${apiKeyGmail}`\r\n    );\r\n\r\n    return res.data.results.map(_transformCharacter);\r\n  };\r\n\r\n  const getAllComics = async (offset = _server.baseOffset) => {\r\n    const { url, comics, comicsLimit, apiKeyGmail } = _server;\r\n\r\n    const res = await request(\r\n      `${url}${comics}?limit=${comicsLimit}&offset=${offset}&apikey=${apiKeyGmail}`\r\n    );\r\n    return res.data.results.map(_transformComics);\r\n  };\r\n\r\n  const getCharacterById = async (id) => {\r\n    const { url, characters, apiKeyGmail } = _server;\r\n\r\n    const res = await request(\r\n      `${url}${characters}/${id}?apikey=${apiKeyGmail}`\r\n    );\r\n\r\n    return _transformCharacter(res.data.results[0]);\r\n  };\r\n\r\n  const getComicById = async (id) => {\r\n    const { url, comics, apiKeyGmail } = _server;\r\n\r\n    const res = await request(`${url}${comics}/${id}?apikey=${apiKeyGmail}`);\r\n\r\n    return _transformComics(res.data.results[0]);\r\n  };\r\n\r\n  const _transformComics = (comics) => {\r\n    const {\r\n      id,\r\n      title,\r\n      thumbnail,\r\n      urls,\r\n      prices,\r\n      description,\r\n      pageCount,\r\n      language = 'EN-RU',\r\n    } = comics;\r\n\r\n    const filteredDesc =\r\n      description === '' || description === null\r\n        ? `This Marvel comic doesn't have description.`\r\n        : `${description.slice(0, 250)}...`;\r\n\r\n    return {\r\n      id,\r\n      title,\r\n      language,\r\n      pages: pageCount,\r\n      description: filteredDesc,\r\n      thumbnail: `${thumbnail.path}.${thumbnail.extension}`,\r\n      homepage: urls[0].url,\r\n      comics: comics.items,\r\n      price: prices[0].price,\r\n    };\r\n  };\r\n\r\n  const _transformCharacter = (char) => {\r\n    const { id, name, description, thumbnail, urls, comics } = char;\r\n\r\n    const filteredDesc =\r\n      description === ''\r\n        ? `This Marvel character doesn't have description.\\n Please, click the links`\r\n        : `${description.slice(0, 100)}...`;\r\n\r\n    return {\r\n      id,\r\n      name,\r\n      description: filteredDesc,\r\n      thumbnail: `${thumbnail.path}.${thumbnail.extension}`,\r\n      homepage: urls[0].url,\r\n      wiki: urls[1].url,\r\n      comics: comics.items,\r\n    };\r\n  };\r\n\r\n  return {\r\n    getAllComics,\r\n    getAllCharacters,\r\n    getCharacterById,\r\n    getComicById,\r\n    loading,\r\n    error,\r\n    clearError,\r\n  };\r\n};\r\n\r\nexport default useMarvelService;\r\n","import { useCallback, useState } from 'react';\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const request = useCallback(\r\n    async (\r\n      url,\r\n      method = 'GET',\r\n      body = null,\r\n      headers = { 'Content-Type': 'application/json' }\r\n    ) => {\r\n      setLoading(true);\r\n\r\n      try {\r\n        const response = await fetch(url, { method, body, headers });\r\n\r\n        if (!response.ok)\r\n          throw new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n\r\n        const data = await response.json();\r\n\r\n        setLoading(false);\r\n\r\n        return data;\r\n      } catch (error) {\r\n        setLoading(false);\r\n        setError(error.message);\r\n        throw error;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = useCallback(() => setError(null), []);\r\n\r\n  return { request, clearError, loading, error };\r\n};\r\n"],"names":["className","src","alt","errorBoundaryClasses","margin","width","height","padding","border","borderRadius","boxShadow","background","zIndex","position","ErrorBoundary","state","error","errorInfo","console","log","this","setState","style","props","children","Component","left","bottom","transform","textAlign","color","fontWeight","textTransform","display","objectFit","data","id","title","onComicSelected","thumbnail","price","tabIndex","to","ComicsItemStatus","loading","loadData","charItemLoadingGif","errorData","ironMan404","useMarvelService","getAllComics","clearError","useState","comics","setComics","newComicsLoading","setNewComicsLoading","offset","setOffset","comicsEnded","setComicsEnded","windowHeight","setWindowHeight","useEffect","onRequestComics","then","onComicsLoaded","document","body","scrollHeight","newComics","ended","length","onScrollToTop","window","scrollTo","top","onScrollToBottom","useCallback","comicsContent","map","i","statusArray","Array","x","status","content","onKeyDown","e","key","onClick","disabled","visibility","Fragment","ComicsBanner","decorationVision","decorationFalcon","decorationIronMan","decorationSpiderMan","setLoading","setError","request","url","method","headers","fetch","response","ok","Error","json","message","useHttp","_server","getAllCharacters","characters","baseLimit","apiKeyGmail","res","results","_transformCharacter","comicsLimit","_transformComics","getCharacterById","getComicById","urls","prices","description","pageCount","language","pages","slice","path","extension","homepage","items","char","name","wiki"],"sourceRoot":""}