"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[395],{4845:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(184),a=function(){return(0,r.jsx)("section",{className:"ComicsBanner wrapper",children:(0,r.jsxs)("div",{className:"ComicsBanner-box",children:[(0,r.jsx)("div",{className:"ComicsBanner-box-logo",children:(0,r.jsx)("img",{src:"https://i.giphy.com/media/9r75CL4HcusetkC3d4/giphy.webp",alt:"logo-stanLee",className:"ComicsBanner-box-logo__img"})}),(0,r.jsxs)("div",{className:"ComicsBanner-box-titles",children:[(0,r.jsx)("h3",{className:"ComicsBanner-box-titles__title",children:"New comics every week!"}),(0,r.jsx)("h3",{className:"ComicsBanner-box-titles__title",children:"Stay tuned!"})]}),(0,r.jsx)("div",{className:"ComicsBanner-box-logo",children:(0,r.jsx)("img",{src:"https://i.giphy.com/media/13kajTax0GCg0g/giphy.webp",alt:"logo-Avengers",className:"ComicsBanner-box__logo-avengers"})})]})})}},1397:function(t,e,n){var r=n(5671),a=n(3144),s=n(136),i=n(7277),c=n(2791),o=n(9746),l=n(184),u={margin:"0 auto",width:"570px",height:"100%",padding:"25px",border:"2px solid #000",borderRadius:"15px",boxShadow:"5px 5px 20px rgba(0, 0, 0, 0.8)",background:"#232222",zIndex:"10",position:"relative"},d=function(t){(0,s.Z)(n,t);var e=(0,i.Z)(n);function n(){var t;(0,r.Z)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={error:!1},t}return(0,a.Z)(n,[{key:"componentDidCatch",value:function(t,e){console.log(t,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,l.jsx)("div",{style:u,children:(0,l.jsx)(o.Z,{})}):this.props.children}}]),n}(c.Component);e.Z=d},9746:function(t,e,n){var r=n(184);e.Z=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{style:{position:"absolute",left:"50%",bottom:"0%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#fff",fontWeight:700,textTransform:"uppercase",background:"#000",width:"50%",borderRadius:"14px",padding:"5px 0px"},children:["Oops!",(0,r.jsx)("br",{}),"Please, update your page :)"]}),(0,r.jsx)("img",{style:{margin:"0 auto",background:"none",display:"block",objectFit:"none",border:"10px solid #000",boxShadow:"15px 15px 20px rgba(0, 0, 0, 0.8)",width:"100%",height:"180px"},src:"https://i.gifer.com/fy3e.gif",alt:"error"})]})}},4395:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(4845),a=n(5987),s=n(2982),i=n(885),c=n(2791),o=n(5487),l=n(863),u=n(6968),d=n(1523),m=n(184),p=function(t){var e=t.data,n=t.id,r=e.title,a=e.thumbnail,s=e.price;return(0,m.jsx)("li",{className:"ComicsList-cards-item",children:(0,m.jsxs)(d.rU,{to:"/comics/".concat(n),className:"ComicsList-cards-item__link",children:[(0,m.jsx)("img",{className:"ComicsList-cards-item__img",src:a,alt:"comics: ".concat(r)}),(0,m.jsxs)("div",{className:"ComicsList-cards-item-titles",children:[(0,m.jsx)("h3",{className:"ComicsList-cards-item-titles__title",children:r}),(0,m.jsx)("h4",{className:"ComicsList-cards-item-titles__price",children:0===s?"Not available":s+"$"})]})]})})},h=["id"],f=function(t){var e=t.loading,n={src:l,alt:"loading gif",title:"Loading..."},r={src:u,alt:"error gif",title:"Load Error!"};return(0,m.jsxs)("div",{className:"ComicsList-cards-item ",children:[(0,m.jsx)("img",{className:"ComicsList-cards-item__img",src:e?n.src:r.src,alt:e?n.alt:r.alt}),(0,m.jsxs)("div",{className:"ComicsList-cards-item-titles",children:[(0,m.jsx)("h3",{className:"ComicsList-cards-item-titles__title",children:e?n.title:r.title}),(0,m.jsx)("h4",{className:"ComicsList-cards-item-titles__price",children:e?n.title:r.title})]})]})},x=function(t){var e=(0,o.Z)(),n=e.getAllComics,r=e.loading,l=e.error,u=e.clearError,d=(0,c.useState)([]),x=(0,i.Z)(d,2),g=x[0],b=x[1],v=(0,c.useState)(!1),j=(0,i.Z)(v,2),y=j[0],C=j[1],Z=(0,c.useState)(0),w=(0,i.Z)(Z,2),k=w[0],N=w[1],_=(0,c.useState)(!1),L=(0,i.Z)(_,2),S=L[0],E=L[1],B=(0,c.useState)(0),A=(0,i.Z)(B,2),T=A[0],I=A[1];(0,c.useEffect)((function(){O()}),[]);var O=function(t){u(),C(!0),n(t).then(M),I(document.body.scrollHeight)},M=function(t){var e=!1;t.length<8&&(e=!0),b((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(t))})),C((function(){return!1})),N((function(t){return t+8})),E((function(){return e}))},P=function(){window.scrollTo({top:0})},D=(0,c.useCallback)((function(){window.scrollTo(0,T)}),[T]);(0,c.useEffect)((function(){0!==g.length&&8!==g.length&&setTimeout(D,1500)}),[g.length,D]);var F=g.map((function(t,e){var n=t.id,r=(0,a.Z)(t,h);return(0,m.jsx)(p,{data:r,id:n},e)})),R=(0,s.Z)(Array(0===g.length?8:g.length)).map((function(t,e){return(0,m.jsx)(f,{loading:r,error:l},e)})),q=l||r?R:null,G=l||r?null:F;return(0,m.jsxs)("section",{className:"ComicsList",children:[(0,m.jsx)("button",{tabIndex:0,onKeyDown:function(t){"Enter"===t.key&&D()},onClick:D,className:"ComicsList-scroll-to-bottom",children:(0,m.jsx)("span",{className:"ComicsList-scroll-to-bottom__inner",children:(0,m.jsx)("span",{className:"mouse-wheel"})})}),(0,m.jsxs)("ul",{className:"ComicsList-cards",children:[q,G]}),(0,m.jsxs)("div",{className:"ComicsList-assets",children:[(0,m.jsx)("button",{disabled:y,onClick:function(){return O(k)},className:"ComicsList-cards-more button button__long",style:{visibility:S?"hidden":""},children:(0,m.jsx)("div",{className:"inner",children:"Load More"})}),(0,m.jsx)("button",{tabIndex:0,onKeyDown:function(t){"Enter"===t.key&&P()},onClick:P,className:"ComicsList-scroll",children:(0,m.jsx)("span",{className:"ComicsList-scroll__up",children:(0,m.jsx)("span",{className:"mouse-wheel"})})})]})]})},g=n(1397),b=n(8026),v=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.Z,{}),(0,m.jsx)("section",{className:"container wrapper",children:(0,m.jsxs)("div",{className:"main__content",children:[(0,m.jsx)(g.Z,{children:(0,m.jsx)(x,{})}),(0,m.jsx)("img",{className:"decoration-vision",src:b,alt:"decoration-vision"})]})})]})}},5487:function(t,e,n){n.d(e,{Z:function(){return c}});var r=n(4165),a=n(5861),s=n(885),i=n(2791),c=function(){var t=function(){var t=(0,i.useState)(!1),e=(0,s.Z)(t,2),n=e[0],c=e[1],o=(0,i.useState)(null),l=(0,s.Z)(o,2),u=l[0],d=l[1],m=(0,i.useCallback)(function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a,s,i,o,l=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",a=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{"Content-Type":"application/json"},c(!0),t.prev=4,t.next=7,fetch(e,{method:n,body:a,headers:s});case 7:if((i=t.sent).ok){t.next=10;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(i.status));case 10:return t.next=12,i.json();case 12:return o=t.sent,c(!1),t.abrupt("return",o);case 17:throw t.prev=17,t.t0=t.catch(4),c(!1),d(t.t0.message),t.t0;case 22:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}(),[]);return{request:m,clearError:(0,i.useCallback)((function(){return d(null)}),[]),loading:n,error:u}}(),e=t.request,n=t.loading,c=t.error,o=t.clearError,l="https://gateway.marvel.com:443/v1/public/",u="characters",d=9,m=8,p=0,h="comics",f="af8551b0745198c417f5907893a2a765",x=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,s,i,c,o,m=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m.length>0&&void 0!==m[0]?m[0]:p,a=l,s=u,i=d,c=f,t.next=4,e("".concat(a).concat(s,"?limit=").concat(i,"&offset=").concat(n,"&apikey=").concat(c));case 4:return o=t.sent,t.abrupt("return",o.data.results.map(y));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,s,i,c,o,u=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:p,a=l,s=h,i=m,c=f,t.next=4,e("".concat(a).concat(s,"?limit=").concat(i,"&offset=").concat(n,"&apikey=").concat(c));case 4:return o=t.sent,t.abrupt("return",o.data.results.map(j));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,a){var s,i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=l,i=f,t.next=3,e("".concat(s).concat(a,"/").concat(n,"?apikey=").concat(i));case 3:if(c=t.sent,"characters"!==a){t.next=8;break}return t.abrupt("return",y(c.data.results[0]));case 8:if("comics"!==a){t.next=10;break}return t.abrupt("return",j(c.data.results[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l,s=f,t.next=3,e("".concat(a,"characters?name=").concat(n,"&apikey=").concat(s));case 3:return i=t.sent,t.abrupt("return",i.data.results.map(y));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(t){var e=t.id,n=t.title,r=t.thumbnail,a=t.urls,s=t.prices,i=t.description,c=t.pageCount,o=t.language;return{id:e,title:n,language:void 0===o?"EN-RU":o,pages:c,description:""===i||null===i?"This Marvel comic doesn't have description.":"".concat(i.slice(0,250),"..."),thumbnail:"".concat(r.path,".").concat(r.extension),homepage:a[0].url,comics:t.items,price:s[0].price}},y=function(t){var e=t.id,n=t.name,r=t.description,a=t.thumbnail,s=t.urls,i=t.comics;return{id:e,name:n,description:""===r?"This Marvel character doesn't have description.\n Please, click the links":r,thumbnail:"".concat(a.path,".").concat(a.extension),homepage:s[0].url,wiki:s[1].url,comics:i.items}};return{getAllComics:g,getAllCharacters:x,getElementById:b,getCharacterByName:v,loading:n,error:c,clearError:o}}},863:function(t,e,n){t.exports=n.p+"static/media/CharListItemLoading.6cefb0de3a5c513193d1.gif"},6968:function(t,e,n){t.exports=n.p+"static/media/ironMan404.a42bbd2087ae7da19980.gif"},8026:function(t,e,n){t.exports=n.p+"static/media/decorationVision.8de497492999c5d20b03.png"},5987:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(3366);function a(t,e){if(null==t)return{};var n,a,s=(0,r.Z)(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}},2982:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(907);var a=n(181);function s(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,a.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=395.8536c975.chunk.js.map