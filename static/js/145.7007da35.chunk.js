"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[145],{397:function(e,n,a){var r=a(671),t=a(144),c=a(340),s=a(882),i=a(791),o=a(746),l=a(184),d={margin:"0 auto",width:"570px",height:"100%",padding:"25px",border:"2px solid #000",borderRadius:"15px",boxShadow:"5px 5px 20px rgba(0, 0, 0, 0.8)",background:"#232222",zIndex:"10",position:"relative"},u=function(e){(0,c.Z)(a,e);var n=(0,s.Z)(a);function a(){var e;(0,r.Z)(this,a);for(var t=arguments.length,c=new Array(t),s=0;s<t;s++)c[s]=arguments[s];return(e=n.call.apply(n,[this].concat(c))).state={error:!1},e}return(0,t.Z)(a,[{key:"componentDidCatch",value:function(e,n){console.log(e,n),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,l.jsx)("div",{style:d,children:(0,l.jsx)(o.Z,{})}):this.props.children}}]),a}(i.Component);n.Z=u},746:function(e,n,a){var r=a(184);n.Z=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{style:{position:"absolute",left:"50%",bottom:"0%",transform:"translate(-50%, -50%)",textAlign:"center",color:"#fff",fontWeight:700,textTransform:"uppercase",background:"#000",width:"50%",borderRadius:"14px",padding:"5px 0px"},children:["Oops!",(0,r.jsx)("br",{}),"Please, update your page :)"]}),(0,r.jsx)("img",{style:{margin:"0 auto",background:"none",display:"block",objectFit:"none",border:"10px solid #000",boxShadow:"15px 15px 20px rgba(0, 0, 0, 0.8)",width:"100%",height:"180px"},src:"https://i.gifer.com/fy3e.gif",alt:"error"})]})}},91:function(e,n,a){a.r(n),a.d(n,{default:function(){return E}});var r=a(885),t=a(791),c=a.p+"static/media/Marvel.f3c85a8b070a9f674cce.gif",s=a(184),i=function(){return(0,s.jsx)("img",{className:"LoadingMarvel",src:c,alt:"marvel loading"})},o=a(746),l=a(681),d=a.p+"static/media/RandomChar-mjolnerShild.439ab19cfabed7d9d9b8.png",u=a.p+"static/media/marvelIcon.dd9b81e060c773c65315.jpg",h=function(e){var n=e.char,a=n.name,r=n.description,t=n.thumbnail,c=n.homepage,i=n.wiki,o="image_not_available.jpg"===t.slice(-23)?u:t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{className:"character-img",src:o,alt:a}),(0,s.jsxs)("div",{className:"character-info",children:[(0,s.jsx)("h3",{className:"character-info__title",children:a}),(0,s.jsx)("p",{className:"character-info__desc",children:r}),(0,s.jsxs)("div",{className:"character-links",children:[(0,s.jsx)("a",{className:"character-links__link first-link button",href:c,target:"_blank",rel:"noreferrer",children:(0,s.jsx)("div",{className:"inner",children:"Homepage"})}),(0,s.jsx)("a",{className:"character-links__link second-link button button__secondary",href:i,target:"_blank",rel:"noreferrer",children:(0,s.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},m=function(e){var n=(0,t.useState)(null),a=(0,r.Z)(n,2),c=a[0],u=a[1],m=(0,l.Z)(),p=m.getCharacterById,f=m.loading,x=m.error,g=m.clearError;(0,t.useEffect)((function(){j();var e=setInterval(j,12e4);return function(){clearInterval(e)}}),[]);var v=function(e){u(e)},j=function(){g();var e=Math.floor(400*Math.random()+1011e3);p(e).then(v)},b=x?(0,s.jsx)(o.Z,{}):null,_=f?(0,s.jsx)(i,{}):null,N=f||x||!c?null:(0,s.jsx)(h,{char:c});return(0,s.jsxs)("section",{className:"RandomChar wrapper",children:[(0,s.jsxs)("div",{className:"RandomChar__character-info",children:[b,_,N]}),(0,s.jsxs)("div",{className:"RandomChar__randomizer",children:[(0,s.jsxs)("div",{className:"randomizer-top",children:[(0,s.jsx)("h3",{className:"randomizer-top__title random-title",children:"Random character for today!"}),(0,s.jsx)("h3",{className:"randomizer-top__title  random-title",children:"Do you want to get to know him better?"})]}),(0,s.jsxs)("div",{className:"randomizer-bottom",children:[(0,s.jsx)("h3",{className:"randomizer-bottom__title  random-title",children:"Or choose another one"}),(0,s.jsx)("button",{onClick:j,className:"randomizer-bottom__button button",type:"button",children:(0,s.jsx)("div",{className:"inner",children:"Try it"})})]}),(0,s.jsx)("img",{className:"randomizer-img",src:d,alt:"mjolnir"})]})]})},p=a(925),f=a(982),x=function(e){var n=e.data,a=e.id,r=e.onCharSelected,t=n.name,c=n.thumbnail,i="image_not_available.jpg"===c.slice(-23)?u:c;return(0,s.jsxs)("li",{onClick:function(){return r(a)},className:"CharList-cards-item",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&r(a)},children:[(0,s.jsx)("img",{className:"CharList-cards-item__img",src:i,alt:"character: ".concat(t)}),(0,s.jsx)("h3",{className:"CharList-cards-item__title",children:t})]})},g=a(863),v=a(968),j=["id"],b=function(e){var n=e.loading,a={src:g,alt:"loading gif",title:"Loading..."},r={src:v,alt:"error gif",title:"Load Error!"};return(0,s.jsxs)("div",{className:"CharList-cards-item ",children:[(0,s.jsx)("img",{className:"CharList-cards-item__img",src:n?a.src:r.src,alt:n?a.alt:r.alt}),(0,s.jsx)("h3",{className:"CharList-cards-item__title",children:n?a.title:r.title})]})},_=function(e){var n=(0,l.Z)(),a=n.getAllCharacters,c=n.loading,i=n.error,o=n.clearError,d=e.onCharSelected,u=(0,t.useState)([]),h=(0,r.Z)(u,2),m=h[0],g=h[1],v=(0,t.useState)(!1),_=(0,r.Z)(v,2),N=_[0],k=_[1],C=(0,t.useState)(0),Z=(0,r.Z)(C,2),y=Z[0],w=Z[1],S=(0,t.useState)(!1),I=(0,r.Z)(S,2),L=I[0],E=I[1],M=(0,t.useState)(0),T=(0,r.Z)(M,2),z=T[0],D=T[1];(0,t.useEffect)((function(){R()}),[]);var R=function(e){o(),k(!0),a(e).then(F),D(document.body.scrollHeight)},F=function(e){var n=!1;e.length<9&&(n=!0),g((function(n){return[].concat((0,f.Z)(n),(0,f.Z)(e))})),k((function(){return!1})),w((function(e){return e+9})),E((function(){return n}))},A=function(){window.scrollTo({top:0})},B=(0,t.useCallback)((function(){window.scrollTo(0,z)}),[z]);(0,t.useEffect)((function(){0!==m.length&&9!==m.length&&B()}),[m.length,B]);var H=m.map((function(e){var n=e.id,a=(0,p.Z)(e,j);return(0,s.jsx)(x,{onCharSelected:d,data:a,id:n},n)})),K=(0,f.Z)(Array(0===m.length?9:m.length)).map((function(e,n){return(0,s.jsx)(b,{loading:c,error:i},n)})),P=i||c?K:null,W=i||c?null:H;return(0,s.jsxs)("section",{className:"CharList",children:[(0,s.jsxs)("ul",{className:"CharList-cards",children:[P,W]}),(0,s.jsxs)("div",{className:"CharList-assets",children:[(0,s.jsx)("button",{disabled:N,onClick:function(){return R(y)},className:"CharList-cards-more button button__long",style:{visibility:L?"hidden":""},children:(0,s.jsx)("div",{className:"inner",children:"Load More"})}),(0,s.jsx)("button",{tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&A()},onClick:A,className:"CharList-scroll",children:(0,s.jsx)("span",{className:"CharList-scroll__up",children:(0,s.jsx)("span",{className:"mouse-wheel"})})})]})]})},N=function(){return(0,s.jsxs)("section",{className:"Skeleton",children:[(0,s.jsx)("p",{className:"skeleton-select",children:"Please select a character to see information"}),(0,s.jsxs)("div",{className:"skeleton",children:[(0,s.jsxs)("div",{className:"pulse skeleton__header",children:[(0,s.jsx)("div",{className:"pulse skeleton__circle"}),(0,s.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,s.jsx)("div",{className:"pulse skeleton__block"}),(0,s.jsx)("div",{className:"pulse skeleton__block"}),(0,s.jsx)("div",{className:"pulse skeleton__block"})]})]})},k=function(e){var n=e.char,a=n.name,r=n.description,t=n.thumbnail,c=n.homepage,i=n.wiki,o=n.comics,l=function(){window.scrollTo(0,document.body.scrollHeight)},d=o.map((function(e,n){var a=e.name;return n>10?null:(0,s.jsx)(C,{name:a},n)})),h="image_not_available.jpg"===t.slice(-23)?u:t,m=0===o.length?" hidden":"";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"char-info",children:[(0,s.jsx)("button",{tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&l()},onClick:l,className:"CharInfo-scroll",children:(0,s.jsx)("span",{className:"CharInfo-scroll__bottom",children:(0,s.jsx)("span",{className:"mouse-wheel"})})}),(0,s.jsx)("img",{className:"char-info__img",src:h,alt:a}),(0,s.jsxs)("div",{className:"char-info-inner",children:[(0,s.jsx)("h3",{className:"char-info-inner__title",children:a}),(0,s.jsx)("a",{className:"char-info-inner__link button button__main",href:c,children:(0,s.jsx)("div",{className:"inner",children:"Homepage"})}),(0,s.jsx)("a",{className:"char-info-inner__link button button__secondary",href:i,children:(0,s.jsx)("div",{className:"inner",children:"Wiki"})})]})]}),(0,s.jsx)("div",{className:"char-info-desc",children:(0,s.jsx)("p",{className:"char-info-desc__paragraph",children:r})}),(0,s.jsxs)("div",{className:"char-info-comics ".concat(m),children:[(0,s.jsx)("h4",{className:"char-info-comics__title",children:"Comics:"}),(0,s.jsx)("ul",{className:"comics-list",children:d})]})]})},C=function(e){var n=e.name;return(0,s.jsx)("li",{className:"comics-list__item",children:n})},Z=function(e){var n=(0,l.Z)(),a=n.getCharacterById,c=n.loading,d=n.error,u=n.clearError,h=(0,t.useState)(null),m=(0,r.Z)(h,2),p=m[0],f=m[1];(0,t.useEffect)((function(){x()}),[e.charID]);var x=function(){var n=e.charID;n&&(u(),a(n).then(g))},g=function(e){f(e)},v=p||c||d?null:(0,s.jsx)(N,{}),j=c?(0,s.jsx)(i,{}):null,b=d?(0,s.jsx)(o.Z,{}):null,_=c||d||!p?null:(0,s.jsx)(k,{char:p});return(0,s.jsxs)("section",{className:"CharInfo",children:[v,j,b,_]})},y=a(397),w=a(26),S=a(690),I=a(562),L=a(985),E=function(){var e=(0,t.useState)(null),n=(0,r.Z)(e,2),a=n[0],c=n[1];return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(y.Z,{children:(0,s.jsx)(m,{})}),(0,s.jsx)("div",{className:"container wrapper",children:(0,s.jsxs)("div",{className:"main__content",children:[(0,s.jsx)(y.Z,{children:(0,s.jsx)(_,{onCharSelected:function(e){c(e),window.scrollTo({top:150})}})}),(0,s.jsx)(y.Z,{children:(0,s.jsx)(Z,{charID:a})}),(0,s.jsx)("img",{className:"decoration-vision",src:w,alt:"decoration-vision"}),(0,s.jsx)("img",{className:"decoration-falcon",src:S,alt:"decorationFalcon"}),(0,s.jsx)("img",{className:"decoration-iron-Man",src:I,alt:"decorationIronMan"}),(0,s.jsx)("img",{className:"decoration-spider-man",src:L,alt:"decorationSpiderMan"})]})})]})}},681:function(e,n,a){a.d(n,{Z:function(){return i}});var r=a(165),t=a(861),c=a(885),s=a(791),i=function(){var e=function(){var e=(0,s.useState)(!1),n=(0,c.Z)(e,2),a=n[0],i=n[1],o=(0,s.useState)(null),l=(0,c.Z)(o,2),d=l[0],u=l[1],h=(0,s.useCallback)(function(){var e=(0,t.Z)((0,r.Z)().mark((function e(n){var a,t,c,s,o,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",t=l.length>2&&void 0!==l[2]?l[2]:null,c=l.length>3&&void 0!==l[3]?l[3]:{"Content-Type":"application/json"},i(!0),e.prev=4,e.next=7,fetch(n,{method:a,body:t,headers:c});case 7:if((s=e.sent).ok){e.next=10;break}throw new Error("Could not fetch ".concat(n,", status: ").concat(s.status));case 10:return e.next=12,s.json();case 12:return o=e.sent,i(!1),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(4),i(!1),u(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(n){return e.apply(this,arguments)}}(),[]);return{request:h,clearError:(0,s.useCallback)((function(){return u(null)}),[]),loading:a,error:d}}(),n=e.request,a=e.loading,i=e.error,o=e.clearError,l="https://gateway.marvel.com:443/v1/public/",d="characters",u=9,h=8,m=0,p="comics",f="af8551b0745198c417f5907893a2a765",x=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(){var a,t,c,s,i,o,h=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>0&&void 0!==h[0]?h[0]:m,t=l,c=d,s=u,i=f,e.next=4,n("".concat(t).concat(c,"?limit=").concat(s,"&offset=").concat(a,"&apikey=").concat(i));case 4:return o=e.sent,e.abrupt("return",o.data.results.map(_));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(){var a,t,c,s,i,o,d=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>0&&void 0!==d[0]?d[0]:m,t=l,c=p,s=h,i=f,e.next=4,n("".concat(t).concat(c,"?limit=").concat(s,"&offset=").concat(a,"&apikey=").concat(i));case 4:return o=e.sent,e.abrupt("return",o.data.results.map(b));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(a){var t,c,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,c=d,s=f,e.next=3,n("".concat(t).concat(c,"/").concat(a,"?apikey=").concat(s));case 3:return i=e.sent,e.abrupt("return",_(i.data.results[0]));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(a){var t,c,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,c=p,s=f,e.next=3,n("".concat(t).concat(c,"/").concat(a,"?apikey=").concat(s));case 3:return i=e.sent,e.abrupt("return",b(i.data.results[0]));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(e){var n=e.id,a=e.title,r=e.thumbnail,t=e.urls,c=e.prices,s=e.description,i=e.pageCount,o=e.language;return{id:n,title:a,language:void 0===o?"EN-RU":o,pages:i,description:""===s||null===s?"This Marvel comic doesn't have description.":"".concat(s.slice(0,250),"..."),thumbnail:"".concat(r.path,".").concat(r.extension),homepage:t[0].url,comics:e.items,price:c[0].price}},_=function(e){var n=e.id,a=e.name,r=e.description,t=e.thumbnail,c=e.urls,s=e.comics;return{id:n,name:a,description:""===r?"This Marvel character doesn't have description.\n Please, click the links":"".concat(r.slice(0,100),"..."),thumbnail:"".concat(t.path,".").concat(t.extension),homepage:c[0].url,wiki:c[1].url,comics:s.items}};return{getAllComics:g,getAllCharacters:x,getCharacterById:v,getComicById:j,loading:a,error:i,clearError:o}}},863:function(e,n,a){e.exports=a.p+"static/media/CharListItemLoading.6cefb0de3a5c513193d1.gif"},968:function(e,n,a){e.exports=a.p+"static/media/ironMan404.a42bbd2087ae7da19980.gif"},690:function(e,n,a){e.exports=a.p+"static/media/decorationFalcon.a7be48754825aec5f0a1.png"},985:function(e,n,a){e.exports=a.p+"static/media/decorationSpiderMan.a4ee3eda10e5ea6dc331.png"},26:function(e,n,a){e.exports=a.p+"static/media/decorationVision.8de497492999c5d20b03.png"},562:function(e,n,a){e.exports=a.p+"static/media/ironMan.a94c9e28ff728327d861.png"}}]);
//# sourceMappingURL=145.7007da35.chunk.js.map